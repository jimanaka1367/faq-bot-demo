# 社内FAQ 自動応答デモ

目的：
社内向けのFAQを想定した、簡単な自動応答スクリプトを作りたい。

やりたいこと：
- FAQはダミーでOK
- 質問を1文入力すると
- 一番近いFAQを探して
- 対応する回答を表示する

条件：
- 初心者でも動かせること
- コマンド1つ、またはダブルクリックで実行できること
- まずはターミナル上で動けばOK

---

## 使い方
`faq.csv` にFAQを追加し、CLI または Web UI で最も近い質問と回答を表示します。Web UI は Flask を使った最小構成です。

### ファイル構成（Web UI で使う主なもの）
- `app.py`: Flask アプリのエントリーポイント。FAQの読み込みと検索を実行します。
- `templates/index.html`: 検索フォームと結果を表示するシンプルなHTMLテンプレート。
- `run.bat`: Windowsでダブルクリック起動できる補助スクリプト。
- `requirements.txt`: Web UI で必要なライブラリ（Flask）の一覧。
- `faq.csv`: 「question, answer」形式でFAQを保存するCSV。

### 事前準備
1. Python 3.9 以上をインストールします（macOS や多くの Linux には初期状態で入っています）。
2. 初回のみライブラリをインストールします。
   ```bash
   pip install -r requirements.txt
   ```
3. このフォルダにある `faq.csv` に「question, answer」形式でFAQを追記できます。初期データも入っているのでそのまま使って試せます。

### Web 画面で試す（Flask）
1. ターミナルで以下を実行し、ブラウザで <http://localhost:5000> を開きます。
   ```bash
   python app.py
   ```
   Windows の場合は `run.bat` をダブルクリックでも起動できます。
   CSV を書き換えた場合は、一度サーバーを停止して再起動すると最新のFAQが反映されます。
   もし 5000 番ポートがすでに使われている場合は、`python app.py --port 5001` のようにポート番号を変更して実行してください。
2. 画面のテキストエリアに質問を入力し、「検索」を押すと最も近いFAQと回答が表示されます。
3. 終了するときはターミナルで `Ctrl + C` を押してください（Flaskサーバーを停止します）。

### CLI で試す
#### 質問を直接渡す場合（1コマンド）
ターミナルで以下を実行します。

```bash
python faq_bot.py "VPNが繋がりません"
```

実行例:
```
--- 最も近いFAQ ---
Q: VPNに繋がらない場合は？
A: VPNクライアントを再起動し、最新バージョンか確認してから再接続してください。
```

#### 起動後に入力する場合（ダブルクリック向け）
1. ファイルマネージャーで `faq_bot.py` をダブルクリックして起動するか、ターミナルで `python faq_bot.py` を実行します。
2. 表示されるプロンプトに質問を入力し、Enter を押します。

### FAQ を増やす方法
1. `faq.csv` を表計算ソフトやテキストエディタで開きます。
2. `question` 列に質問、`answer` 列に回答を追記します。
3. 上書き保存後、もう一度 `faq_bot.py` を実行すると新しいFAQが自動で読み込まれます。

### 仕組み（簡単な説明）
- `faq.csv` から質問と回答を読み込みます。
- 入力された質問とFAQの質問文を比べ、似ている度合い（類似度）を計算します。
- 最も似ている質問の回答を返します。

最小構成なので、まずは動かすことを優先しています。必要に応じてFAQの数や類似度の計算方法を後から拡張できます。
